<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Popup</title>
</head>
<body>

<!-- 채팅 내용을 표시할 영역 -->
<ul id="chatMessages"></ul>

<!-- 메시지 입력 폼 -->
<form id="chatForm">
    <input type="text" id="messageInput"/>
    <button type="button" onclick="sendMessage()">Send</button>
</form>

<script th:inline="javascript">
    var socket = new WebSocket("ws://" + window.location.host + "/ws-chat");

    socket.addEventListener('message', function (event) {
        var message = JSON.parse(event.data);
        // 메시지를 화면에 표시하는 코드 추가 (예: #chatMessages에 추가)
    });

    function sendMessage() {
        var messageInput = document.getElementById('messageInput');
        var message = messageInput.value;

        socket.send(JSON.stringify({content: message}));

        messageInput.value = '';
    }
</script>

</body>
</html>