Index: build/resources/main/templates/members/myPage/memberBuy.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head th:replace=\"fragments/header :: header\"/>\n<body>\n<div class=\"container\">\n    <div th:replace=\"fragments/bodyHeader :: bodyHeader\"/>\n    <div th:if=\"${#lists.isEmpty(buyItems)}\">\n        <p><b>등록된 상품이 없습니다.</b></p>\n    </div>\n    <div th:if=\"${not #lists.isEmpty(buyItems)}\">\n        <table class=\"table table-striped\">\n            <thead>\n            <tr>\n                <th>#</th>\n                <th>제목</th>\n                <th>등록 일자</th>\n                <th>이미지 보기</th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr th:each=\"buyItem : ${buyItems}\">\n                <td>\n                    <a th:href=\"@{/items/{itemId}(itemId=${buyItem.itemId})}\" th:text=\"${buyItem.itemId}\"></a>\n                </td>\n                <td>\n                    <a th:href=\"@{/items/{itemId}(itemId=${buyItem.itemId})}\" th:text=\"${buyItem.title}\"></a>\n                </td>\n                <td th:text=\"${#dates.format(buyItem.createDatetime, 'yyyy-MM-dd HH:mm:ss')}\">등록 일자</td>\n                <td>\n                    <block th:each=\"image : ${images}\">\n                        <img th:if=\"${buyItem.itemId == image.itemId} and ${image.repImageCheck == true}\" th:src=\"@{|/files/${image.fileName}|}\" width=\"200\" height=\"200\"/>\n                    </block>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"col\">\n        <button class=\"w-100 btn btn-secondary btn-lg\"\n                th:onclick=\"|location.href='@{/members/myPage}'|\"\n                type=\"button\">MyPage\n        </button>\n    </div>\n    <br>\n    <div th:replace=\"fragments/footer :: footer\"/>\n</div> <!-- /container -->\n</body>\n</html>
===================================================================
diff --git a/build/resources/main/templates/members/myPage/memberBuy.html b/build/resources/main/templates/members/myPage/memberBuy.html
--- a/build/resources/main/templates/members/myPage/memberBuy.html	
+++ b/build/resources/main/templates/members/myPage/memberBuy.html	
@@ -29,7 +29,7 @@
                 <td th:text="${#dates.format(buyItem.createDatetime, 'yyyy-MM-dd HH:mm:ss')}">등록 일자</td>
                 <td>
                     <block th:each="image : ${images}">
-                        <img th:if="${buyItem.itemId == image.itemId} and ${image.repImageCheck == true}" th:src="@{|/files/${image.fileName}|}" width="200" height="200"/>
+                        <img th:if="${buyItem.itemId == image.itemId} and ${image.repImageCheck == true}" th:src="@{|${image.filePath}|}" width="200" height="200"/>
                     </block>
                 </td>
             </tr>
Index: build/resources/main/templates/item/items.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head th:replace=\"fragments/header :: header\"/>\n<body>\n<div class=\"container\">\n    <div th:replace=\"fragments/bodyHeader :: bodyHeader\"/>\n    <div th:if=\"${not #strings.isEmpty(error)}\" class=\"alert alert-danger\" role=\"alert\">\n        <p th:text=\"${error}\"></p>\n    </div>\n    <div class=\"mb-3\">\n        <a href=\"/items/add\" class=\"btn btn-primary\">상품 등록</a>\n    </div>\n    <!-- 검색 폼 -->\n    <form th:action=\"@{/items}\" method=\"get\" class=\"form-inline mb-3\">\n        <label for=\"searchText\" class=\"mr-2\">검색어:</label>\n        <input type=\"text\" class=\"form-control\" id=\"searchText\" name=\"searchText\" placeholder=\"상품 이름을 입력하세요\">\n        <button type=\"submit\" class=\"btn btn-primary ml-2\">검색</button>\n    </form>\n    <!-- 정렬 선택 폼 -->\n    <form th:action=\"@{/items}\" method=\"get\" class=\"form-inline mb-3\">\n        <label class=\"mr-2\">정렬 방식:</label>\n        <select class=\"form-control\" name=\"sort\">\n            <option value=\"registrationDate\" th:selected=\"${sort == 'registrationDate'}\">최신순</option>\n            <option value=\"viewsCount\" th:selected=\"${sort == 'viewsCount'}\">조회수순</option>\n            <option value=\"likesCount\" th:selected=\"${sort == 'likesCount'}\">좋아요순</option>\n        </select>\n        <label class=\"ml-2 mr-2\">아이템 타입:</label>\n        <select class=\"form-control\" name=\"itemType\">\n            <option value=\"\">전체</option>\n            <option value=\"1\" th:selected=\"${itemType == '1'}\">노트북</option>\n            <option value=\"2\" th:selected=\"${itemType == '2'}\">태블릿</option>\n            <option value=\"3\" th:selected=\"${itemType == '3'}\">스마트폰</option>\n        </select>\n        <label class=\"ml-2 mr-2\">지역:</label>\n        <select class=\"form-control\" name=\"regionId\">\n            <option value=\"\">전체</option>\n            <option value=\"1\" th:selected=\"${regionId == '1'}\">서울</option>\n            <option value=\"2\" th:selected=\"${regionId == '2'}\">인천</option>\n            <option value=\"3\" th:selected=\"${regionId == '3'}\">세종</option>\n            <option value=\"4\" th:selected=\"${regionId == '4'}\">대전</option>\n            <option value=\"5\" th:selected=\"${regionId == '5'}\">대구</option>\n            <option value=\"6\" th:selected=\"${regionId == '6'}\">광주</option>\n            <option value=\"7\" th:selected=\"${regionId == '7'}\">울산</option>\n            <option value=\"8\" th:selected=\"${regionId == '8'}\">부산</option>\n            <option value=\"9\" th:selected=\"${regionId == '9'}\">제주</option>\n        </select>\n        <button type=\"submit\" class=\"btn btn-primary ml-2\">정렬 적용</button>\n    </form>\n    <div th:if=\"${#lists.isEmpty(items)}\">\n        <p><b>등록된 상품이 없습니다.</b></p>\n    </div>\n    <div th:if=\"${not #lists.isEmpty(items)}\">\n        <table class=\"table table-striped\">\n            <thead>\n            <tr>\n                <th>#</th>\n                <th>제목</th>\n                <th>등록 일자</th>\n                <th>이미지 보기</th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr th:each=\"item : ${items}\">\n                <td>\n                    <a th:href=\"@{/items/{itemId}(itemId=${item.itemId})}\" th:text=\"${item.itemId}\"></a>\n                </td>\n                <td>\n                    <a th:href=\"@{/items/{itemId}(itemId=${item.itemId})}\" th:text=\"${item.title}\"></a>\n                </td>\n                <td th:text=\"${#dates.format(item.createDatetime, 'yyyy-MM-dd HH:mm:ss')}\">등록 일자</td>\n                <td>\n                    <block th:each=\"image : ${images}\">\n                        <img th:if=\"${item.itemId == image.itemId} and ${image.repImageCheck == true}\"\n                             th:src=\"@{|/files/${image.fileName}|}\" width=\"200\" height=\"200\"/>\n                    </block>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n        <!-- 페이징 -->\n        <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n                <!-- 이전 페이지 -->\n                <li th:class=\"${currentPage == 1 ? 'page-item disabled' : 'page-item'}\">\n                    <a class=\"page-link\" th:if=\"${currentPage != 1}\"\n                       th:href=\"@{/items(page=${currentPage - 1}, sort=${sort})}\" aria-label=\"Previous\">\n                        <span aria-hidden=\"true\">&laquo;</span>\n                    </a>\n                </li>\n                <!-- 페이지 번호 -->\n                <li th:each=\"pageNumber : ${#numbers.sequence(1, totalPages)}\"\n                    th:class=\"${pageNumber == currentPage ? 'page-item active' : 'page-item'}\">\n                    <a class=\"page-link\" th:href=\"@{/items(page=${pageNumber}, sort=${sort})}\"\n                       th:text=\"${pageNumber}\"></a>\n                </li>\n                <!-- 다음 페이지 -->\n                <li th:class=\"${currentPage == totalPages ? 'page-item disabled' : 'page-item'}\">\n                    <a class=\"page-link\" th:if=\"${currentPage != totalPages}\"\n                       th:href=\"@{/items(page=${currentPage + 1}, sort=${sort})}\" aria-label=\"Next\">\n                        <span aria-hidden=\"true\">&raquo;</span>\n                    </a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n    <!-- 홈으로 가는 버튼 -->\n    <div class=\"col\">\n        <button class=\"w-100 btn btn-secondary btn-lg\"\n                onclick=\"location.href='loginHome.html'\"\n                th:onclick=\"|location.href='@{/}'|\"\n                type=\"button\">홈으로\n        </button>\n    </div>\n    <br>\n    <div th:replace=\"fragments/footer :: footer\"/>\n</div>\n</body>\n</html>
===================================================================
diff --git a/build/resources/main/templates/item/items.html b/build/resources/main/templates/item/items.html
--- a/build/resources/main/templates/item/items.html	
+++ b/build/resources/main/templates/item/items.html	
@@ -72,7 +72,7 @@
                 <td>
                     <block th:each="image : ${images}">
                         <img th:if="${item.itemId == image.itemId} and ${image.repImageCheck == true}"
-                             th:src="@{|/files/${image.fileName}|}" width="200" height="200"/>
+                             th:src="@{|${image.filePath}|}" width="200" height="200"/>
                     </block>
                 </td>
             </tr>
Index: build/resources/main/templates/item/item.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head>\n    <meta charset=\"utf-8\">\n    <link th:href=\"@{/css/bootstrap.min.css}\" href=\"css/bootstrap.min.css\" rel=\"stylesheet\">\n    <style>\n        .container {\n            max-width: 560px;\n        }\n    </style>\n    <!-- jQuery를 사용하기 위한 CDN 추가 -->\n    <script src=\"https://code.jquery.com/jquery-3.6.4.min.js\"></script>\n    <script th:inline=\"javascript\">\n        /*<![CDATA[*/\n        var currentMemberId = [[${currentMemberId}]];\n        var currentItemId = [[${currentItemId}]];\n        var sellerMemberId = [[${item.sellerMemberId}]];\n        var isOwnItem = currentMemberId === sellerMemberId;\n        var latitude = [[${latitude}]];\n        var longitude = [[${longitude}]];\n        /*]]>*/\n    </script>\n    <script>\n        // 페이지 로드 시 초기 버튼 상태 설정\n        $(document).ready(function () {\n            updateInterestButton();\n            // 페이지 로딩 시 찜 수 초기화\n            updateInterestCount(currentItemId);\n            // 추가: 서버에서 받아온 위도와 경도로 마커 생성\n            var markerPosition = new kakao.maps.LatLng(latitude, longitude);\n            marker.setPosition(markerPosition);\n            map.setCenter(markerPosition);\n        });\n\n        // Ajax를 사용하여 현재 관심 상품 상태를 가져오고 버튼을 업데이트하는 함수\n        function updateInterestButton() {\n            var memberId = currentMemberId;\n            var itemId = currentItemId;\n\n            $.ajax({\n                type: 'GET',\n                url: '/items/' + itemId + '/interestStatus',\n                success: function (response) {\n                    var interestButton = $('#interestButton');\n                    if (response === 'exists') {\n                        interestButton.text('관심 상품 삭제');\n                        interestButton.removeClass('btn-primary').addClass('btn-danger');\n                    } else {\n                        interestButton.text('관심 상품 등록');\n                        interestButton.removeClass('btn-danger').addClass('btn-primary');\n                    }\n                },\n                error: function () {\n                    console.error('서버 오류');\n                }\n            });\n        }\n\n        // Ajax를 사용하여 관심 상품 등록\n        function addInterest() {\n            var memberId = currentMemberId;\n            var itemId = currentItemId;\n\n            $.ajax({\n                type: 'POST',\n                url: '/items/' + itemId + '/addInterest',\n                success: function (response) {\n                    if (response === 'success') {\n                        console.log('관심 상품 등록 성공');\n                        updateInterestButton(); // 버튼 업데이트\n                        updateInterestCount(itemId);\n                    } else {\n                        console.error('관심 상품 등록 실패');\n                    }\n                },\n                error: function () {\n                    console.error('서버 오류');\n                }\n            });\n        }\n\n        // Ajax를 사용하여 관심 상품 삭제\n        function removeInterest() {\n            var memberId = currentMemberId;\n            var itemId = currentItemId;\n\n            $.ajax({\n                type: 'POST',\n                url: '/items/' + itemId + '/removeInterest',\n                success: function (response) {\n                    if (response === 'success') {\n                        console.log('관심 상품 삭제 성공');\n                        updateInterestButton(); // 버튼 업데이트\n                        updateInterestCount(itemId);\n                    } else {\n                        console.error('관심 상품 삭제 실패');\n                    }\n                },\n                error: function () {\n                    console.error('서버 오류');\n                }\n            });\n        }\n\n        // 찜 수 업데이트를 위한 함수 추가\n        function updateInterestCount(itemId) {\n            $.ajax({\n                type: 'GET',\n                url: '/items/' + itemId + '/totalLikedItem',\n                success: function (count) {\n                    $('#totalLikedItem').text(count || 0);\n                },\n                error: function () {\n                    console.error('서버 오류');\n                }\n            });\n        }\n\n        // 토글 버튼 클릭 시 관심 상품 등록 또는 삭제 동작\n        function toggleInterest() {\n            var interestButton = $('#interestButton');\n\n            if (isOwnItem) {\n                // 판매자가 자신의 상품에 대해 찜 기능을 사용할 수 없도록 막음\n                console.log('자신의 상품에는 찜 기능을 사용할 수 없습니다.');\n            } else {\n                if (interestButton.text() === '관심 상품 등록') {\n                    addInterest(); // 관심 상품 등록 기능 호출\n                } else {\n                    removeInterest(); // 관심 상품 삭제 기능 호출\n                }\n                // 찜 수 업데이트\n                updateInterestCount(currentItemId);\n            }\n        }\n\n        // '삭제' 버튼 클릭 시 확인창 표시\n        function confirmDelete() {\n            if (confirm('정말 삭제하시겠습니까?')) {\n                // 확인을 눌렀을 때의 동작\n                executeDelete();\n            } else {\n                // 취소를 눌렀을 때의 동작 (아무 동작 없음)\n            }\n        }\n\n        // 아이템 삭제 로직 실행 및 리다이렉트\n        function executeDelete() {\n            console.log('executeDelete function called');\n            var itemId = currentItemId;\n\n            $.ajax({\n                type: 'GET',\n                url: '/items/' + itemId + '/delete',\n                success: function (response) {\n                    console.log('아이템 삭제 성공');\n                    // 아이템 목록 뷰로 리다이렉트\n                    window.location.href = '/items';\n                },\n                error: function () {\n                    console.error('서버 오류');\n                }\n            });\n        }\n    </script>\n</head>\n<body>\n<div class=\"container\">\n    <div class=\"py-5 text-center\">\n        <h2>상품 상세</h2>\n    </div>\n    <div>\n        <label for=\"itemId\">상품 ID</label>\n        <input type=\"text\" id=\"itemId\" name=\"itemId\" class=\"form-control\" value=\"1\" th:value=\"${item.itemId}\" disabled>\n    </div>\n    <div>\n        <label for=\"foundMemberName\">판매자</label>\n        <input type=\"text\" id=\"foundMemberName\" name=\"foundMemberName\" class=\"form-control\"\n               th:value=\"${foundMemberName}\" disabled>\n    </div>\n    <div>\n        <label for=\"title\">제목</label>\n        <input type=\"text\" id=\"title\" name=\"title\" class=\"form-control\" value=\"10000\" th:value=\"${item.title}\" disabled>\n    </div>\n    <div>\n        <block th:each=\"itemImage : ${itemImages}\">\n            <img th:if=\"${itemImage.fileName}\" th:src=\"@{|/files/${itemImage.fileName}|}\" width=\"250\" height=\"200\"/>\n        </block>\n        <!--        <img th:if=${image.fileNames}\" th:each=\"image : ${image.fileNames}\"  th:src=\"@{|/files/${image.fileNames}|}\" width=\"400\" height=\"400\"/>-->\n        <!--        <img th:each=\"hor : ${hora}\" th:src=\"@{|/files/${hor}|}\" width=\"400\" height=\"400\"/>-->\n        <!--        <input type=\"text\" id=\"title\" name=\"title\" class=\"form-control\" value=\"10000\" th:value=\"${item.title}\" disabled>-->\n    </div>\n    <div>\n        <label for=\"content\">상세설명</label>\n        <input type=\"text\" id=\"content\" name=\"content\" class=\"form-control\" value=\"상품A\" th:value=\"${item.content}\"\n               disabled>\n    </div>\n    <div>\n        <label for=\"price\">가격</label>\n        <input type=\"text\" id=\"price\" name=\"price\" class=\"form-control\" value=\"10\" th:value=\"${item.price}\" disabled>\n    </div>\n    <div>\n        <div>아이템 타입</div>\n        <select id=\"itemType\" name=\"itemType\" class=\"form-control\" th:field=\"${item.itemTypeId}\" disabled>\n            <option th:each=\"type : ${itemTypes}\" th:value=\"${type.itemTypeId}\" th:text=\"${type.description}\"\n                    th:selected=\"${type.itemTypeId == selectedItemTypeId}\"/>\n        </select>\n    </div>\n    <div>\n        <div>판매 상태</div>\n        <select id=\"saleStatus\" name=\"saleStatus\" class=\"form-control\" th:field=\"${item.saleStatus}\" disabled>\n            <option th:each=\"status : ${statuses}\" th:value=\"${status.saleStatusId}\" th:text=\"${status.description}\"\n                    th:selected=\"${status.saleStatusId == selectedSaleStatus}\"/>\n        </select>\n    </div>\n    <span>거래장소</span>\n    <div id=\"map\" style=\"width:100%;height:350px;\"></div>\n    <div id=\"clickLatlng\"></div>\n    <script type=\"text/javascript\"\n            src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=ef1254b7c0e4ca0bba75f337f56fe2aa\"></script>\n    <script>\n        var mapContainer = document.getElementById('map'), // 지도를 표시할 div\n            mapOption = {\n                center: new kakao.maps.LatLng(36.35041273683429, 127.38483422584034), // 지도의 중심좌표\n                level: 3 // 지도의 확대 레벨\n            };\n\n        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다\n\n        // 지도에 확대 축소 컨트롤을 생성한다\n        var zoomControl = new kakao.maps.ZoomControl();\n\n        // 지도의 우측에 확대 축소 컨트롤을 추가한다\n        map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);\n\n        // 지도를 클릭한 위치에 표출할 마커입니다\n        var marker = new kakao.maps.Marker({\n            // 지도 중심좌표에 마커를 생성합니다\n            position: map.getCenter(),\n            draggable: false\n        });\n        // 지도에 마커를 표시합니다\n        marker.setMap(map);\n    </script>\n    <div>\n        <div>조회수: <span th:text=\"${item.viewsCount}\"></span></div>\n    </div>\n    <div>\n        <div>찜수: <span id=\"totalLikedItem\" th:text=\"${totalLikedItem} ? ${totalLikedItem} : 0\"></span></div>\n    </div>\n    <!--  수정 이력이 있는 경우에만 수정일 출력  -->\n    <div th:if=\"${item.updateDatetime != null}\">\n        <div>최종 수정 일자: <span th:text=\"${#dates.format(item.updateDatetime, 'yyyy-MM-dd HH:mm:ss')}\"></span></div>\n    </div>\n    <hr class=\"my-4\">\n    <div class=\"row\">\n        <div class=\"col\" th:if=\"${currentMemberId != item.sellerMemberId}\">\n            <!-- '관심 상품 등록/삭제' 버튼 -->\n            <button id=\"interestButton\" class=\"w-100 btn\"\n                    th:class=\"${isLiked} ? 'btn-danger btn-lg' : 'btn-primary btn-lg'\"\n                    th:onclick=\"|toggleInterest('@{/items/addInterest}', '@{/items/removeInterest}')|\">\n                <span th:text=\"${isLiked} ? '관심 상품 삭제' : '관심 상품 등록'\"></span>\n            </button>\n        </div>\n        <div class=\"col\" th:if=\"${currentMemberId == item.sellerMemberId}\">\n            <button class=\"w-100 btn btn-primary btn-lg\"\n                    onclick=\"location.href='editForm.html'\"\n                    th:onclick=\"|location.href='@{/items/{itemId}/edit(itemId=${item.itemId})}'|\"\n                    type=\"button\">상품 수정\n            </button>\n        </div>\n        <div class=\"col\">\n            <button class=\"w-100 btn btn-secondary btn-lg\"\n                    onclick=\"location.href='items.html'\"\n                    th:onclick=\"|location.href='@{/items}'|\"\n                    type=\"button\">목록으로\n            </button>\n        </div>\n        <div class=\"col\" th:if=\"${currentMemberId == item.sellerMemberId}\">\n            <button class=\"w-100 btn btn-danger btn-lg\"\n                    onclick=\"confirmDelete()\"\n                    type=\"button\">삭제\n            </button>\n        </div>\n        <div class=\"col\" th:if=\"${item.sellerMemberId != currentMemberId} and ${item.buyerMemberId == null}\">\n            <!-- '구매하기' 버튼 -->\n            <button id=\"target\" class=\"w-100 btn btn-success btn-lg\"\n                    th:onclick=\"openPopup()\"\n                    type=\"button\">구매 하기\n            </button>\n        </div>\n    </div>\n    <!-- 댓글 입력창과 등록 버튼 -->\n    <div class=\"mt-3\">\n        <form th:action=\"@{'/items/' + ${currentItemId} + '/addComment'}\" method=\"post\">\n            <label for=\"commentText\">댓글 작성: 답글은 댓글 주인과 상품 주인만 등록/조회할 수 있습니다.</label>\n            <input type=\"text\" id=\"commentText\" name=\"content\" class=\"form-control\">\n            <button type=\"submit\" class=\"btn btn-primary mt-2\">댓글 등록</button>\n        </form>\n    </div>\n    <!-- 댓글 목록 표시 영역 -->\n    <div class=\"mt-4\" th:if=\"${not comments.isEmpty}\">\n        <h4>댓글 목록</h4>\n        <div id=\"commentList\">\n            <!-- Thymeleaf 문법을 사용하여 댓글 목록 출력 -->\n            <div th:each=\"comment : ${comments}\">\n                <div>\n                    회원번호 <span th:text=\"${comment.memberId}\"></span>: <span th:text=\"${comment.content}\"></span>\n                    <!-- 댓글 생성일 표시 -->\n                    <div>생성일: <span th:text=\"${#dates.format(comment.createDatetime, 'yyyy-MM-dd HH:mm:ss')}\"></span>\n                    </div>\n                    <!-- 댓글 작성자와 현재 사용자가 동일한 경우에만 삭제 버튼 표시 -->\n                    <form th:if=\"${comment.memberId == currentMemberId || currentMemberId == item.sellerMemberId}\"\n                          th:action=\"@{'/items/' + ${currentItemId} + '/deleteComment/' + ${comment.commentId}}\"\n                          method=\"post\">\n                        <button type=\"submit\" class=\"btn btn-danger btn-sm\">삭제</button>\n                    </form>\n                    <input type=\"hidden\" id=\"buyerId\" name=\"buyerId\" class=\"form-control\" th:value=\"${currentMemberId}\"\n                           disabled>\n                    <!-- 덧글(답글) 입력창과 등록 버튼 -->\n                    <div class=\"mt-2\"\n                         th:if=\"${comment.memberId == currentMemberId || currentMemberId == item.sellerMemberId}\">\n                        <form th:action=\"@{'/items/' + ${currentItemId} + '/addReply'}\" method=\"post\">\n                            <input type=\"hidden\" name=\"parentCommentId\" th:value=\"${comment.commentId}\"/>\n                            <label for=\"replyText\">댓글에 답글 작성</label>\n                            <input type=\"text\" id=\"replyText\" name=\"content\" class=\"form-control\">\n                            <button type=\"submit\" class=\"btn btn-primary mt-2\">답글 등록</button>\n                        </form>\n                    </div>\n                    <!-- 내가 작성한거 보여야함. 판매자가 작성한거 보여야함. 다른사람은 못 봄 -->\n                    <!-- 덧글(답글) 목록 표시 -->\n                    <div id=\"replyList\" class=\"ml-4\">\n                        <div th:each=\"replyList : ${replyMap[comment.commentId]}\">\n                            <div th:if=\"${comment.memberId == currentMemberId || currentMemberId == item.sellerMemberId}\">\n                                회원번호 <span th:text=\"${replyList.memberId}\"></span>: <span\n                                    th:text=\"${replyList.content}\"></span>\n                                <!-- 댓글 생성일 표시 -->\n                                <div>생성일: <span\n                                        th:text=\"${#dates.format(replyList.createDatetime, 'yyyy-MM-dd HH:mm:ss')}\"></span>\n                                </div>\n                                <!-- 덧글(답글) 작성자와 현재 사용자가 동일한 경우에만 삭제 버튼 표시 -->\n                                <form th:action=\"@{'/items/' + ${currentItemId} + '/deleteReply/' + ${replyList.commentId}}\"\n                                      method=\"post\">\n                                    <button type=\"submit\" class=\"btn btn-danger btn-sm\">삭제</button>\n                                </form>\n                                <span>------------------------------</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <br>\n            </div>\n        </div>\n    </div>\n    <br>\n    <div th:replace=\"fragments/footer :: footer\"/>\n</div>\n</body>\n<script>\n    function openPopup() {\n\n        // 현재 부모 창의 값 가져오기\n        var itemId = document.getElementById(\"itemId\").value;\n        var title = document.getElementById(\"title\").value;\n        var price = document.getElementById(\"price\").value;\n        // 팝업 창 열기\n\n        // 새로운 창을 띄우기 전에 창의 크기를 지정\n            var width = 500;\n            var height = 600;\n\n            // 창을 정중앙에 위치시키기 위한 좌표 계산\n            var left = (window.innerWidth - width) / 2;\n            var top = (window.innerHeight - height) / 2;\n\n        var popup = window.open(\"/item/purchasePopup?itemId=\" + itemId+\"&title=\"+title+\"&price=\"+price, \"Popup\", 'width=' + width + ',height=' + height + ',left=' + left + ',top=' + top);\n\n        // 자식 창에서 메시지를 받아 알림창 띄우기\n        window.addEventListener('message', function(event) {\n            if (event.data === 'purchaseCompleted') {\n                alert('구매가 완료되었습니다!');\n            }\n        });\n    }\n</script>\n</html>\n
===================================================================
diff --git a/build/resources/main/templates/item/item.html b/build/resources/main/templates/item/item.html
--- a/build/resources/main/templates/item/item.html	
+++ b/build/resources/main/templates/item/item.html	
@@ -184,7 +184,7 @@
     </div>
     <div>
         <block th:each="itemImage : ${itemImages}">
-            <img th:if="${itemImage.fileName}" th:src="@{|/files/${itemImage.fileName}|}" width="250" height="200"/>
+            <img th:if="${itemImage.fileName}" th:src="@{|${itemImage.filePath}|}" width="250" height="200"/>
         </block>
         <!--        <img th:if=${image.fileNames}" th:each="image : ${image.fileNames}"  th:src="@{|/files/${image.fileNames}|}" width="400" height="400"/>-->
         <!--        <img th:each="hor : ${hora}" th:src="@{|/files/${hor}|}" width="400" height="400"/>-->
Index: build/resources/main/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>#mysql\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/usedmarket?useSSL=false&useUnicode=true&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true\n\nspring.datasource.username=sa\nspring.datasource.password=12341234!\n\n#MyBatis\nmybatis.type-aliases-package=teamproject.usedmarket.domain\nmybatis.configuration.map-underscore-to-camel-case=true\n\n#MyBatis log\nlogging.level.teamproject.usedmarket.repository.mybatis=trace\n\n#hide jsessionID in url\nserver.servlet.session.tracking-modes=cookie\n\nspring.thymeleaf.prefix=classpath:/templates/\nspring.thymeleaf.suffix=.html\nspring.messages.basename=messages,errors\n\n
===================================================================
diff --git a/build/resources/main/application.properties b/build/resources/main/application.properties
--- a/build/resources/main/application.properties	
+++ b/build/resources/main/application.properties	
@@ -1,9 +1,8 @@
 #mysql
 spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
-spring.datasource.url=jdbc:mysql://127.0.0.1:3306/usedmarket?useSSL=false&useUnicode=true&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true
-
-spring.datasource.username=sa
-spring.datasource.password=12341234!
+spring.datasource.url=jdbc:mysql: 아이피주소 :3306/ 디비이름  ?useSSL=false&useUnicode=true&serverTimezone=Asia/Seoul&allowPublicKeyRetrieval=true
+spring.datasource.username= rds에서 만든이름
+spring.datasource.password= rds에서만든 비밀번호
 
 #MyBatis
 mybatis.type-aliases-package=teamproject.usedmarket.domain
@@ -19,3 +18,10 @@
 spring.thymeleaf.suffix=.html
 spring.messages.basename=messages,errors
 
+#s3
+#cloud.aws.s3.bucket=// 버켓이름
+#cloud.aws.stack.auto=false
+#cloud.aws.region.static=ap-northeast-2
+#cloud.aws.credentials.access-key=// 아이디코드
+#cloud.aws.credentials.secret-key=// 비번코드
+
Index: build/resources/main/templates/members/myPage/memberSell.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head th:replace=\"fragments/header :: header\"/>\n<body>\n<div class=\"container\">\n    <div th:replace=\"fragments/bodyHeader :: bodyHeader\"/>\n    <!-- 정렬 선택 폼 -->\n    <form th:action=\"@{/members/myPage/{memberId}/sell(memberId=${memberId})}\" method=\"get\" class=\"form-inline mb-3\">\n        <label class=\"mr-2\">정렬 방식:</label>\n        <select class=\"form-control\" name=\"sort\">\n            <option value=\"onSale\" th:selected=\"${sort == 'onSale'}\">판매중</option>\n            <option value=\"soldOut\" th:selected=\"${sort == 'soldOut'}\">판매완료</option>\n        </select>\n        <button type=\"submit\" class=\"btn btn-primary ml-2\">정렬 적용</button>\n    </form>\n    <div th:if=\"${#lists.isEmpty(soldItems)}\">\n        <p><b>등록된 상품이 없습니다.</b></p>\n    </div>\n    <div th:if=\"${not #lists.isEmpty(soldItems)}\">\n        <table class=\"table table-striped\">\n            <thead>\n            <tr>\n                <th>#</th>\n                <th>제목</th>\n                <th>등록 일자</th>\n                <th>이미지 보기</th>\n                <th></th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr th:each=\"soldItem : ${soldItems}\">\n                <td>\n                    <a th:href=\"@{/items/{itemId}(itemId=${soldItem.itemId})}\" th:text=\"${soldItem.itemId}\"></a>\n                </td>\n                <td>\n                    <a th:href=\"@{/items/{itemId}(itemId=${soldItem.itemId})}\" th:text=\"${soldItem.title}\"></a>\n                </td>\n                <td th:text=\"${#dates.format(soldItem.createDatetime, 'yyyy-MM-dd HH:mm:ss')}\">등록 일자</td>\n                <td>\n                    <block th:each=\"image : ${images}\">\n                        <img th:if=\"${soldItem.itemId == image.itemId} and ${image.repImageCheck == true}\" th:src=\"@{|/files/${image.fileName}|}\" width=\"200\" height=\"200\"/>\n                    </block>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"col\">\n        <button class=\"w-100 btn btn-secondary btn-lg\"\n                th:onclick=\"|location.href='@{/members/myPage}'|\"\n                type=\"button\">MyPage\n        </button>\n    </div>\n    <br>\n    <div th:replace=\"fragments/footer :: footer\"/>\n</div> <!-- /container -->\n</body>\n</html>
===================================================================
diff --git a/build/resources/main/templates/members/myPage/memberSell.html b/build/resources/main/templates/members/myPage/memberSell.html
--- a/build/resources/main/templates/members/myPage/memberSell.html	
+++ b/build/resources/main/templates/members/myPage/memberSell.html	
@@ -38,7 +38,7 @@
                 <td th:text="${#dates.format(soldItem.createDatetime, 'yyyy-MM-dd HH:mm:ss')}">등록 일자</td>
                 <td>
                     <block th:each="image : ${images}">
-                        <img th:if="${soldItem.itemId == image.itemId} and ${image.repImageCheck == true}" th:src="@{|/files/${image.fileName}|}" width="200" height="200"/>
+                        <img th:if="${soldItem.itemId == image.itemId} and ${image.repImageCheck == true}" th:src="@{|${image.filePath}|}" width="200" height="200"/>
                     </block>
                 </td>
             </tr>
Index: build/resources/main/teamproject/usedmarket/repository/mybatis/ImageMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"teamproject.usedmarket.repository.mybatis.ImageMapper\">\n    <insert id=\"save\" useGeneratedKeys=\"true\" keyProperty=\"itemImageId\">\n        insert into item_image (item_id, file_name, file_path, ordering_number, create_datetime, rep_image_check)\n        values (#{itemId}, #{fileName}, #{filePath}, #{orderingNumber}, #{createDatetime, jdbcType=TIMESTAMP},\n                #{repImageCheck})\n    </insert>\n\n    <update id=\"update\">\n        update item_image\n        set rep_image_check=#{updateDto.repImageCheck},\n        update_datetime=#{updateDto.updateDatetime, jdbcType=TIMESTAMP}\n        where item_image_id = #{itemImageId}\n    </update>\n\n    <select id=\"findById\" resultType=\"itemImage\">\n        select *\n        from item_image\n        where item_image_id = #{itemImageId}\n    </select>\n\n    <select id=\"findByItemId\" resultType=\"itemImage\">\n        select item_image_id, file_name\n        from item_image\n        where item_id = #{itemId}\n    </select>\n\n    <select id=\"findAll\" resultType=\"itemImage\">\n        select *\n        from item_image\n        order by item_image_id desc\n    </select>\n\n    <delete id=\"delete\">\n        delete\n        from item_image\n        where item_image_id = #{itemImageId}\n    </delete>\n</mapper>
===================================================================
diff --git a/build/resources/main/teamproject/usedmarket/repository/mybatis/ImageMapper.xml b/build/resources/main/teamproject/usedmarket/repository/mybatis/ImageMapper.xml
--- a/build/resources/main/teamproject/usedmarket/repository/mybatis/ImageMapper.xml	
+++ b/build/resources/main/teamproject/usedmarket/repository/mybatis/ImageMapper.xml	
@@ -3,8 +3,8 @@
         "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="teamproject.usedmarket.repository.mybatis.ImageMapper">
     <insert id="save" useGeneratedKeys="true" keyProperty="itemImageId">
-        insert into item_image (item_id, file_name, file_path, ordering_number, create_datetime, rep_image_check)
-        values (#{itemId}, #{fileName}, #{filePath}, #{orderingNumber}, #{createDatetime, jdbcType=TIMESTAMP},
+        insert into item_image (item_id, file_name, file_path, create_datetime, rep_image_check)
+        values (#{itemId}, #{fileName}, #{filePath}, #{createDatetime, jdbcType=TIMESTAMP},
                 #{repImageCheck})
     </insert>
 
@@ -22,7 +22,7 @@
     </select>
 
     <select id="findByItemId" resultType="itemImage">
-        select item_image_id, file_name
+        select item_image_id, file_name, file_path
         from item_image
         where item_id = #{itemId}
     </select>
Index: build/resources/main/templates/item/editForm.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE HTML>\n<html xmlns:th=\"http://www.thymeleaf.org\">\n<head th:replace=\"fragments/header :: header\">\n    <meta charset=\"utf-8\">\n    <!-- jQuery CDN -->\n    <script src=\"https://code.jquery.com/jquery-3.6.3.min.js\"\n            integrity=\"sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=\" crossorigin=\"anonymous\"></script>\n</head>\n<body>\n<div class=\"container\">\n    <div th:replace=\"fragments/bodyHeader :: bodyHeader\"/>\n    <form th:object=\"${item}\" enctype=\"multipart/form-data\" method=\"post\">\n        <!-- 위도 경도 히든 필드 -->\n        <input type=\"hidden\" th:field=\"*{latitude}\" id=\"latitude\" />\n        <input type=\"hidden\" th:field=\"*{longitude}\" id=\"longitude\" />\n        <!-- id -->\n        <input type=\"hidden\" th:field=\"*{itemId}\"/>\n        <div class=\"form-group\">\n            <label th:for=\"title\">제목</label>\n            <input type=\"text\" th:field=\"*{title}\" th:errorclass=\"field-error\" class=\"form-control\"\n                   placeholder=\"제목을 입력하세요\" required/>\n            <div class=\"field-error\" th:errors=\"*{title}\">\n                제목 오류\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label th:for=\"content\">상세설명</label>\n            <input type=\"text\" th:field=\"*{content}\" th:errorclass=\"field-error\" class=\"form-control\"\n                   placeholder=\"상세설명을 입력하세요\" required/>\n            <div class=\"field-error\" th:errors=\"*{content}\">\n                내용 오류\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label th:for=\"price\">가격</label>\n            <input type=\"number\" th:field=\"*{price}\" th:errorclass=\"field-error\" class=\"form-control\"\n                   placeholder=\"가격을 입력하세요\" required/>\n            <div class=\"field-error\" th:errors=\"*{price}\">\n                가격 오류\n            </div>\n        </div>\n        <div>\n            <div>아이템 타입</div>\n            <select id=\"itemType\" name=\"itemType\" class=\"form-control\" th:field=\"${item.itemTypeId}\">\n                <option th:each=\"type : ${itemTypes}\" th:value=\"${type.itemTypeId}\" th:text=\"${type.description}\"\n                        th:selected=\"${type.itemTypeId == selectedItemTypeId}\"/>\n            </select>\n        </div>\n        <br>\n        <div>\n            <div>판매 상태</div>\n            <select id=\"saleStatus\" name=\"saleStatus\" class=\"form-control\" th:field=\"${item.saleStatus}\">\n                <option th:each=\"status : ${statuses}\" th:value=\"${status.saleStatusId}\" th:text=\"${status.description}\"\n                        th:selected=\"${status.saleStatusId == selectedSaleStatus}\"/>\n            </select>\n        </div>\n        <br>\n        <div>\n            <p>첨부파일<input type=\"file\" id=\"fileInput\" multiple=\"multiple\" onchange=\"previewImages()\" name=\"imageFiles\"></p>\n            <div id=\"imagePreview\"></div>\n            <p></p>\n            <!-- 업로드된 사진 목록 -->\n            <th:block class=\"coll\" th:each=\"itemImage, index : ${itemImages}\">\n                <div class=\"ccol\" th:field=\"${itemImage.itemImageId}\" th:id=\"'item-' + ${index.index}\">\n                    <img class=\"delete-image\" th:alt=\"${'Image ' + (index.index + 1)}\" th:data-index=\"${index.index}\"\n                         th:data-field=\"${itemImage.itemImageId}\" th:if=\"${itemImage.fileName}\"\n                         th:src=\"@{|/files/${itemImage.fileName}|}\" width=\"250\" height=\"200\"/>\n                    <p>[이미지 클릭시 삭제]</p>\n                </div>\n            </th:block>\n        </div>\n        <span><b>거래장소</b></span>\n        <div id=\"map\" style=\"width:100%;height:350px;\"></div>\n        <div id=\"clickLatlng\"></div>\n        <script type=\"text/javascript\"\n                src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=ef1254b7c0e4ca0bba75f337f56fe2aa\"></script>\n        <script>\n            // 수정: 서버에서 받아온 위도와 경도로 마커 생성\n            var markerPosition = new kakao.maps.LatLng([[${latitude}]], [[${longitude}]]);\n            var marker = new kakao.maps.Marker({\n                position: markerPosition\n            });\n            // 수정: 지도 생성\n            var mapContainer = document.getElementById('map');\n            var map = new kakao.maps.Map(mapContainer, {\n                center: markerPosition,\n                level: 3\n            });\n\n            // 지도에 확대 축소 컨트롤을 생성한다\n            var zoomControl = new kakao.maps.ZoomControl();\n\n            // 지도의 우측에 확대 축소 컨트롤을 추가한다\n            map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);\n\n            // 지도를 클릭한 위치에 표출할 마커입니다\n            var marker = new kakao.maps.Marker({\n                // 지도 중심좌표에 마커를 생성합니다\n                position: map.getCenter()\n            });\n\n            // 수정: 마커 지도에 표시\n            marker.setMap(map);\n\n            // 지도에 클릭 이벤트를 등록합니다\n            // 지도를 클릭하면 마지막 파라미터로 넘어온 함수를 호출합니다\n            kakao.maps.event.addListener(map, 'click', function (mouseEvent) {\n\n                // 클릭한 위도, 경도 정보를 가져옵니다\n                var latlng = mouseEvent.latLng;\n\n                // 마커 위치를 클릭한 위치로 옮깁니다\n                marker.setPosition(latlng);\n\n                // 위도와 경도 값을 갱신\n                document.getElementById('latitude').value = latlng.getLat();\n                document.getElementById('longitude').value = latlng.getLng();\n            });\n        </script>\n        <hr class=\"my-4\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <button class=\"w-100 btn btn-primary btn-lg\" type=\"submit\">\n                    상품 수정\n                </button>\n            </div>\n            <div class=\"col\">\n                <button class=\"w-100 btn btn-secondary btn-lg\"\n                        th:onclick=\"|location.href='@{/items/{itemId}(itemId=${item.itemId})}'|\"\n                        type=\"button\">취소\n                </button>\n            </div>\n        </div>\n    </form>\n    <br>\n    <div th:replace=\"fragments/footer :: footer\"/>\n</div> <!-- /container -->\n</body>\n<script th:inline=\"javascript\">\n    $(document).ready(function () {\n        // 이미지를 클릭했을 때\n        $(\".delete-image\").click(function () {\n            var index = $(this).data(\"index\");\n\n            var itemImageId = $(this).data(\"field\");\n            // 클라이언트 측에서 이미지 삭제\n            var itemId = 'item-' + index;\n            $(\"#\" + itemId).remove();\n\n            // 서버에 삭제 요청 보내기\n            deleteImageOnServer(itemImageId);\n        });\n\n        // 서버에 이미지 삭제 요청 보내는 함수\n        function deleteImageOnServer(itemImageId) {\n            $.ajax({\n                type: \"POST\",\n                url: \"/deleteImage/\" + itemImageId,\n                data: {\n                    itemImageId: itemImageId\n                },\n                success: function (response) {\n                    console.log(\"서버에서 이미지 삭제 완료:\", response);\n                },\n                error: function (error) {\n                    console.error(\"서버와의 통신 중 오류 발생:\", error);\n                }\n            });\n        }\n    });\n</script>\n<script>\n    // 파일 선택 시 호출되는 함수\n    function previewImages() {\n        var fileInput = document.getElementById('fileInput');\n        var imagePreview = document.getElementById('imagePreview');\n        imagePreview.innerHTML = ''; // 이미지 미리보기를 갱신하기 전에 기존 내용을 지웁니다.\n\n        // 선택한 파일이 있는지 확인\n        if (fileInput.files && fileInput.files.length > 0) {\n            for (var i = 0; i < fileInput.files.length; i++) {\n                var reader = new FileReader();\n\n                // 파일을 읽었을 때의 동작 정의\n                reader.onload = (function (index) {\n                    return function (e) {\n                        // 이미지를 미리보기로 표시\n                        var imgElement = document.createElement('img');\n                        imgElement.src = e.target.result;\n                        imgElement.alt = 'Preview';\n                        imagePreview.appendChild(imgElement);\n                    };\n                })(i);\n\n                // 파일을 읽어오기\n                reader.readAsDataURL(fileInput.files[i]);\n            }\n        }\n    }\n</script>\n</html>\n
===================================================================
diff --git a/build/resources/main/templates/item/editForm.html b/build/resources/main/templates/item/editForm.html
--- a/build/resources/main/templates/item/editForm.html	
+++ b/build/resources/main/templates/item/editForm.html	
@@ -64,7 +64,7 @@
                 <div class="ccol" th:field="${itemImage.itemImageId}" th:id="'item-' + ${index.index}">
                     <img class="delete-image" th:alt="${'Image ' + (index.index + 1)}" th:data-index="${index.index}"
                          th:data-field="${itemImage.itemImageId}" th:if="${itemImage.fileName}"
-                         th:src="@{|/files/${itemImage.fileName}|}" width="250" height="200"/>
+                         th:src="@{|${itemImage.filePath}|}" width="250" height="200"/>
                     <p>[이미지 클릭시 삭제]</p>
                 </div>
             </th:block>
